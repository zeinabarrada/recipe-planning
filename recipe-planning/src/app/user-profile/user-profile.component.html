<div *ngIf="targetUser && currentUser">
  <h2>{{ targetUser.username }}'s profile!</h2>
  <p><strong>Username:</strong> {{ targetUser.username }}</p>
  <p><strong>Email:</strong> {{ targetUser.email }}</p>
  <p><strong>Followers:</strong> {{ targetUser.getFollowers().length }}</p>
  <p><strong>Following:</strong> {{ targetUser.getFollowing().length }}</p>
  <p><strong>Saved Recipes:</strong> {{ targetUser.savedRecipes }}</p>

  <div class="follow-button-container">
    <app-follow-button
      [targetUser]="targetUser"
      [isFollowing]="isFollowing"
      (follow)="onFollow()"
      (unfollow)="onUnfollow()"
    ></app-follow-button>
  </div>
</div>

<div *ngIf="currentUser && !targetUser">
  <h2>Welcome, {{ currentUser.username }}!</h2>
  <p><strong>Username:</strong> {{ currentUser.username }}</p>
  <p><strong>Email:</strong> {{ currentUser.email }}</p>
  <p><strong>Followers:</strong> {{ currentUser.getFollowers().length }}</p>
  <p><strong>Following:</strong> {{ currentUser.getFollowing().length }}</p>
  <p><strong>Saved Recipes:</strong></p>
  <div *ngIf="savedRecipes.length > 0">
    <div *ngFor="let recipe of savedRecipes" class="recipe-card">
      <h3>{{ recipe.recipe_name }}</h3>
      <p><strong>Author:</strong> {{ recipe.author }}</p>
      <p><strong>Type:</strong> {{ recipe.type }}</p>
      <p><strong>Ingredients:</strong></p>
      <ul>
        <li *ngFor="let ingredient of recipe.ingredients">{{ ingredient }}</li>
      </ul>
      <p><strong>Instructions:</strong></p>
      <ol>
        <li *ngFor="let instruction of recipe.instructions">
          {{ instruction }}
        </li>
      </ol>
      <p><strong>Nutrition Facts:</strong> {{ recipe.nutrition_facts }}</p>
    </div>
  </div>
  <p *ngIf="savedRecipes.length === 0">No saved recipes yet.</p>
</div>

<div *ngIf="!currentUser">
  <h2>Please login to see your profile!</h2>
</div>
