<div class="meal-plan-container" *ngIf="currentUser">
  <h2>Weekly Meal Plan</h2>
  
  <div class="meal-plan-grid">
    <div class="grid-header">
      <div class="header-cell">Day</div>
      <div class="header-cell">Breakfast</div>
      <div class="header-cell">Lunch</div>
      <div class="header-cell">Dinner</div>
    </div>

    <div *ngFor="let day of daysOfWeek" class="grid-row">
      <div class="day-cell">{{ day }}</div>
      
      <div class="meal-cell" *ngFor="let mealType of mealTypes">
        <div class="meal-content" (click)="selectRecipe(day, mealType)">
          <div *ngIf="getRecipeForMeal(day, mealType) as recipe" class="selected-recipe">
            <h3>{{ recipe.recipe_name }}</h3>
            <p>{{ recipe.type }}</p>
            <button mat-button (click)="removeRecipeFromMealPlan(day, mealType)">Remove</button>
          </div>
          <div *ngIf="!getRecipeForMeal(day, mealType)" class="empty-meal">
            <p>Click to add recipe</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="actions">
    <button mat-button (click)="saveMealPlan()">Save Meal Plan</button>
  </div>
</div>

<div *ngIf="!currentUser">
  <p>Please log in to view and create meal plans.</p>
</div>
